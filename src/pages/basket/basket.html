<div id='basket' class='page'>
  <site-header></site-header>

  <el-container>
    <el-aside width='130px'>
      <nav-menu></nav-menu>
    </el-aside>
    <el-main>
      <breadcrumb-bar v-bind:breadcrumbContent='breadcrumbContent'></breadcrumb-bar>
      <h1>Basket</h1>
      <h3>{{ basket.length }} items</h3>
      <h2>£{{ basketValue }}</h2>
      <div class='basket-list'>
        <el-table :data="basket" style="width: 100%" height='600px' @current-change='setProductToEdit'>
          <el-table-column
            prop="name"
            label="Product"
            fit>
          </el-table-column>
          <el-table-column
            prop="quantity"
            width='50'
            align='right'>
          </el-table-column>
          <el-table-column
            label="Qty"
            width='80'>
            <template slot-scope="scope">
              <quantity-form></quantity-form>
            </template>
          </el-table-column>
          <el-table-column
            prop="unit"
            label="Unit">
          </el-table-column>
          <el-table-column
            prop="unitPrice"
            label="Unit Price (£)">
          </el-table-column>
          <el-table-column
            prop="price"
            label="Price (£)">
          </el-table-column>
          <el-table-column
            fixed="right"
            width="120">
            <template slot-scope="scope">
              <el-button v-on:click.native.prevent="deleteItem(scope.$index, basket)" icon='el-icon-delete' type='danger' circle size='mini'></el-button>
            </template>
          </el-table-column>
        </el-table>
      </div>
    </el-main>
  </el-container>
</div>
